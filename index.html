<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tito Infini avec Upload S√©curis√©</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
    overflow: hidden;
    height: 100vh;
}

.video-feed {
    height: 100vh;
    overflow-y: scroll;
    scroll-snap-type: y mandatory;
}

.video-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    scroll-snap-align: start;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #000;
}

video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.right-buttons {
    position: absolute;
    right: 10px;
    bottom: 150px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
}

.right-buttons button {
    background: none;
    border: none;
    color: #fff;
    font-size: 28px;
    cursor: pointer;
    position: relative;
}

.heart-animation {
    position: absolute;
    top: -30px;
    font-size: 36px;
    color: red;
    animation: pop 0.6s forwards;
}

@keyframes pop {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.8); opacity: 1; }
    100% { transform: scale(1); opacity: 0; }
}

.caption {
    position: absolute;
    bottom: 100px;
    left: 10px;
    max-width: 70%;
    font-size: 16px;
    line-height: 1.2;
}

.user-info {
    position: absolute;
    bottom: 70px;
    left: 10px;
    font-size: 14px;
    color: #aaa;
}

.user-info span {
    color: #1e90ff;
    cursor: pointer;
}

.comment-popup {
    position: absolute;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(20,20,20,0.9);
    padding: 10px 15px;
    border-radius: 10px;
    display: none;
    font-size: 14px;
    max-width: 90%;
    text-align: center;
    z-index: 10;
}

.bottom-nav {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 60px;
    background: #121212;
    display: flex;
    justify-content: space-around;
    align-items: center;
}

.bottom-nav button {
    background: none;
    border: none;
    color: #fff;
    font-size: 24px;
    cursor: pointer;
}

/* Bouton Ajouter Vid√©o */
#addVideoBtn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #1e90ff;
    border: none;
    padding: 10px 15px;
    border-radius: 8px;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
    z-index: 20;
    display: none; /* cach√© par d√©faut */
}
</style>
</head>
<body>

<!-- Bouton Ajouter Vid√©o et input cach√© -->
<button id="addVideoBtn">‚ûï Ajouter Vid√©o</button>
<input type="file" id="videoUploader" accept="video/*" style="display:none">

<div class="video-feed" id="videoFeed">
    <!-- Vid√©o initiale -->
    <div class="video-container">
        <video src="https://www.w3schools.com/html/mov_bbb.mp4" muted loop></video>
        <div class="right-buttons">
            <button class="likeBtn">‚ù§Ô∏è 0</button>
            <button class="commentBtn">üí¨</button>
            <button onclick="alert('Partager !')">‚Üó</button>
            <button onclick="alert('Profil')">üë§</button>
        </div>
        <div class="caption">Rien ne vaut que la fraternit√© prt3</div>
        <div class="user-info">
            @bagnoumakeofficiel0 
            <span onclick="alert('Filtrer #pourtoi')">#pourtoi</span> 
            <span onclick="alert('Filtrer #ivoirien')">#ivoirien</span> üá®üáÆ
        </div>
        <div class="comment-popup">üí¨ Les commentaires s'affichent ici !</div>
    </div>
</div>

<div class="bottom-nav">
    <button>üè†</button>
    <button>üîç</button>
    <button>‚ûï</button>
    <button>üì©</button>
    <button>üë§</button>
</div>

<script>
// S√©lection des √©l√©ments
const addVideoBtn = document.getElementById('addVideoBtn');
const videoUploader = document.getElementById('videoUploader');
const videoFeed = document.getElementById('videoFeed');

// Demander mot de passe d√®s le chargement pour afficher le bouton si c'est toi
const pass = prompt("Si vous √™tes l'admin, entrez le mot de passe :");
if(pass === "12345"){ // <-- Remplace par ton mot de passe secret
    addVideoBtn.style.display = "block";
}

// Fonction pour ajouter vid√©o dans le feed
function addVideoToFeed(src, caption="Nouvelle vid√©o", user="@admin", hashtags=["#nouveau"], muted=false){
    const container = document.createElement('div');
    container.className = 'video-container';
    container.innerHTML = `
        <video src="${src}" ${muted ? "muted" : ""} loop></video>
        <div class="right-buttons">
            <button class="likeBtn">‚ù§Ô∏è 0</button>
            <button class="commentBtn">üí¨</button>
            <button onclick="alert('Partager !')">‚Üó</button>
            <button onclick="alert('Profil')">üë§</button>
        </div>
        <div class="caption">${caption}</div>
        <div class="user-info">
            ${user} ${hashtags.map(tag => `<span onclick="alert('Filtrer ${tag}')">${tag}</span>`).join(' ')}
        </div>
        <div class="comment-popup">üí¨ Les commentaires s'affichent ici !</div>
    `;
    attachInteractions(container);
    videoFeed.appendChild(container);
    observer.observe(container.querySelector('video'));
}

// Bouton Ajouter Vid√©o
addVideoBtn.onclick = () => {
    videoUploader.click();
};

// Upload vid√©o depuis l‚Äôordinateur
videoUploader.onchange = (event) => {
    const file = event.target.files[0];
    if(file){
        const url = URL.createObjectURL(file);
        addVideoToFeed(url, "Nouvelle vid√©o", "@admin", ["#nouveau"], false); // false = son activ√©
    }
};

// Like et Commentaires
function attachInteractions(container){
    const likeBtn = container.querySelector('.likeBtn');
    const commentBtn = container.querySelector('.commentBtn');
    const popup = container.querySelector('.comment-popup');
    let likes = 0;

    likeBtn.onclick = () => {
        likes++;
        likeBtn.textContent = `‚ù§Ô∏è ${likes}`;
        const heart = document.createElement('div');
        heart.className = 'heart-animation';
        heart.textContent = '‚ù§Ô∏è';
        likeBtn.appendChild(heart);
        setTimeout(() => heart.remove(), 600);
    };

    commentBtn.onclick = () => {
        popup.style.display = 'block';
        setTimeout(() => popup.style.display = 'none', 2000);
    };
}

// Intersection Observer pour autoplay
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if(entry.isIntersecting){
            entry.target.play();
        } else {
            entry.target.pause();
        }
    });
}, {threshold: 0.75});

// Observer vid√©o initiale
document.querySelectorAll('video').forEach(v => observer.observe(v));
document.querySelectorAll('.video-container').forEach(attachInteractions);
</script>

</body>
  </html>
